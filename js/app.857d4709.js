(function(){"use strict";var e={150:function(e,t,s){var r=s(471),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("form",{ref:"form",staticClass:"customer-form"},[t("div",{staticClass:"customer-form__section"},[t("h2",{staticClass:"customer-form__section-title"},[e._v("Основные данные")]),t("div",{staticClass:"customer-form__section-elements"},[t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Фамилия*",type:"text",error:e.lastNameError},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Имя*",type:"text",error:e.firstNameError},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Отчество",type:"text"},model:{value:e.middleName,callback:function(t){e.middleName=t},expression:"middleName"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Дата рождения*",type:"text",placeholder:"ДД.ММ.ГГГГ",error:e.birthDateError},model:{value:e.birthDate,callback:function(t){e.birthDate=t},expression:"birthDate"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Номер телефона* (начинается с 7)",type:"number",error:e.phoneError},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Пол",type:"text"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}}),t("FormMultiselect",{staticClass:"customer-form__element",attrs:{fieldName:"Группа клиентов*",options:e.customerGroups,selected:e.selectedCustomerGroups,error:e.selectedCustomerGroupsError},on:{addElement:e.addCustomerGroup,removeElement:e.removeCustomerGroup}}),t("FormSelect",{staticClass:"customer-form__element",attrs:{fieldName:"Лечащий врач",options:e.doctors},model:{value:e.selectedDoctor,callback:function(t){e.selectedDoctor=t},expression:"selectedDoctor"}}),t("FormCheckbox",{staticClass:"customer-form__element customer-form__element--checkbox",attrs:{fieldName:"Не отправлять СМС"},model:{value:e.dontSendSms,callback:function(t){e.dontSendSms=t},expression:"dontSendSms"}})],1)]),t("div",{staticClass:"customer-form__section"},[t("h2",{staticClass:"customer-form__section-title"},[e._v("Адрес")]),t("div",{staticClass:"customer-form__section-elements"},[t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Индекс",type:"number"},model:{value:e.address.postalCode,callback:function(t){e.$set(e.address,"postalCode",t)},expression:"address.postalCode"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Страна",type:"text"},model:{value:e.address.country,callback:function(t){e.$set(e.address,"country",t)},expression:"address.country"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Область",type:"text"},model:{value:e.address.region,callback:function(t){e.$set(e.address,"region",t)},expression:"address.region"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Город*",type:"text",error:e.addressCityError},model:{value:e.address.city,callback:function(t){e.$set(e.address,"city",t)},expression:"address.city"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Улица",type:"text"},model:{value:e.address.street,callback:function(t){e.$set(e.address,"street",t)},expression:"address.street"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Дом",type:"text"},model:{value:e.address.building,callback:function(t){e.$set(e.address,"building",t)},expression:"address.building"}})],1)]),t("div",{staticClass:"customer-form__section"},[t("h2",{staticClass:"customer-form__section-title"},[e._v("Паспорт")]),t("div",{staticClass:"customer-form__section-elements customer-form__section-elements--wide"},[t("FormSelect",{staticClass:"customer-form__element",attrs:{fieldName:"Тип документа*",options:e.passport.documentTypes,error:e.selectedDocumentTypeError},model:{value:e.passport.selectedDocumentType,callback:function(t){e.$set(e.passport,"selectedDocumentType",t)},expression:"passport.selectedDocumentType"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Серия",type:"number"},model:{value:e.passport.series,callback:function(t){e.$set(e.passport,"series",t)},expression:"passport.series"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Номер",type:"number"},model:{value:e.passport.number,callback:function(t){e.$set(e.passport,"number",t)},expression:"passport.number"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Кем выдан",type:"text"},model:{value:e.passport.issuedBy,callback:function(t){e.$set(e.passport,"issuedBy",t)},expression:"passport.issuedBy"}}),t("FormInput",{staticClass:"customer-form__element",attrs:{fieldName:"Дата выдачи*",type:"text",placeholder:"ДД.ММ.ГГГГ",error:e.passportDateError},model:{value:e.passport.date,callback:function(t){e.$set(e.passport,"date",t)},expression:"passport.date"}})],1)]),t("div",{staticClass:"customer-form__bottom"},[t("button",{staticClass:"customer-form__button",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.createCustomer.apply(null,arguments)}}},[e._v(" Создать клиента ")]),e.formInvalid?t("span",{staticClass:"error-text"},[e._v("Есть ошибки в форме")]):e._e(),e.formSuccess?t("span",{staticClass:"customer-form__success-text"},[e._v("Клиент создан успешно")]):e._e()])])])},i=[],a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-select"},[t("span",{staticClass:"form-select__text"},[e._v(e._s(e.fieldName))]),t("div",{staticClass:"form-select__selected",class:{"form-select__selected--empty":0===e.selected.length,"form-select__selected--error":e.error},on:{click:e.toggleList}},[e._v(" "+e._s(e.selectedText)+" ")]),t("SelectTriangleIcon",{staticClass:"form-select__triangle",class:{"form-select__triangle--rotated":e.showList}}),e.error?t("span",{staticClass:"error-text"},[e._v(e._s(e.error))]):e._e(),e.showList?t("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleList,expression:"toggleList"}],staticClass:"form-select__list"},e._l(e.options,(function(s,r){return t("li",{key:r,staticClass:"form-select__list-item",on:{click:e.clickOption}},[t("input",{staticClass:"form-select__radio-input",attrs:{type:"radio"},domProps:{value:r,checked:e.selected.includes(r)}}),t("div",{staticClass:"form-select__radio-text"},[e._v(e._s(s))])])})),0):e._e()],1)},n=[],l=function(){var e=this,t=e._self._c;return t("svg",{attrs:{fill:"currentColor",height:"7px",width:"7px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490","xml:space":"preserve"}},[t("polygon",{attrs:{points:"245,456.701 490,33.299 0,33.299 "}})])},c=[],m=s(656),u={},d=(0,m.A)(u,l,c,!1,null,null,null),p=d.exports,f={name:"FormMultiselect",components:{SelectTriangleIcon:p},props:{options:Object,fieldName:String,selected:Array,error:[String,void 0]},data(){return{showList:!1}},computed:{selectedText(){return this.selected.length>0?this.selected.map((e=>this.options[e])).join(", "):"Не выбрано"}},methods:{clickOption(e){const t=e.currentTarget.querySelector("input");!0===t.checked?this.$emit("removeElement",t.value):this.$emit("addElement",t.value),t.checked=!t.checked},toggleList(){this.showList=!this.showList}}},h=f,_=(0,m.A)(h,a,n,!1,null,"29b64d83",null),v=_.exports,y=function(){var e=this,t=e._self._c;return t("label",{staticClass:"form-input"},[t("span",{staticClass:"form-input__text"},[e._v(e._s(e.fieldName))]),t("input",{staticClass:"form-input__input",class:{"form-input__input--error":e.error},attrs:{type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.currentTarget.value)}}}),e.error?t("span",{staticClass:"error-text"},[e._v(e._s(e.error))]):e._e()])},C=[],g={name:"FormInput",props:{type:String,value:String,placeholder:{type:String,default:""},fieldName:String,error:{type:[String,void 0]}}},b=g,x=(0,m.A)(b,y,C,!1,null,"728c0e1e",null),$=x.exports,k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-select"},[t("span",{staticClass:"form-select__text"},[e._v(e._s(e.fieldName))]),t("div",{staticClass:"form-select__selected",class:{"form-select__selected--empty":""===e.value,"form-select__selected--error":e.error},on:{click:e.toggleList}},[e._v(" "+e._s(e.selectedText)+" ")]),t("SelectTriangleIcon",{staticClass:"form-select__triangle",class:{"form-select__triangle--rotated":e.showList}}),e.error?t("span",{staticClass:"error-text"},[e._v(e._s(e.error))]):e._e(),e.showList?t("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleList,expression:"toggleList"}],staticClass:"form-select__list"},e._l(e.options,(function(s,r){return t("li",{key:r,staticClass:"form-select__list-item",on:{click:e.clickOption}},[t("input",{ref:"selectInput",refInFor:!0,staticClass:"form-select__radio-input",attrs:{type:"radio"},domProps:{value:r,checked:r===e.value}}),t("div",{staticClass:"form-select__radio-text"},[e._v(e._s(s))])])})),0):e._e()],1)},N=[],S={name:"FormSelect",components:{SelectTriangleIcon:p},props:{options:Object,fieldName:String,value:String,error:[String,void 0]},data(){return{showList:!1}},computed:{selectedText(){return""!==this.value?this.options[this.value]:"Не выбрано"}},methods:{clickOption(e){const t=e.currentTarget.querySelector("input");!1===t.checked&&(this.$emit("input",t.value),this.$refs.selectInput.forEach((e=>e.checked=!1)),t.checked=!0),this.toggleList()},toggleList(){this.showList=!this.showList}}},w=S,D=(0,m.A)(w,k,N,!1,null,"14a4ea36",null),L=D.exports,F=function(){var e=this,t=e._self._c;return t("label",{staticClass:"form-checkbox"},[t("span",{staticClass:"form-checkbox__text"},[e._v(e._s(e.fieldName))]),t("input",{staticClass:"form-checkbox__input",attrs:{type:"checkbox"},domProps:{checked:e.value},on:{change:function(t){return e.$emit("input",t.currentTarget.checked)}}})])},T=[],E={name:"FormCheckbox",props:{fieldName:String,value:Boolean}},I=E,q=(0,m.A)(I,F,T,!1,null,"52be39b6",null),O=q.exports,G=s(380),A=s(278);const B=e=>{const t=/^[0-9]{2}\.[0-9]{2}\.[0-9]{4}$/;return!A._$.req(e)||t.test(e)},P=e=>!A._$.req(e)||"7"===String(e)[0],j=e=>e.length>0;var M={computed:{lastNameError(){return!this.$v.lastName.required&&this.$v.lastName.$dirty?"Введите фамилию":!this.$v.lastName.minLength&&this.$v.lastName.$dirty?"Некорректная фамилия":void 0},firstNameError(){return!this.$v.firstName.required&&this.$v.firstName.$dirty?"Введите имя":!this.$v.firstName.minLength&&this.$v.firstName.$dirty?"Некорректное имя":void 0},birthDateError(){return!this.$v.birthDate.required&&this.$v.birthDate.$dirty?"Введите дату рождения":!this.$v.birthDate.isDate&&this.$v.birthDate.$dirty?"Введите дату в формате ДД.ММ.ГГГГ":void 0},phoneError(){return!this.$v.phone.required&&this.$v.phone.$dirty?"Введите номер телефона":!this.$v.phone.isPhone&&this.$v.phone.$dirty?"Номер телефона должен начинаться с цифры 7":this.$v.phone.minLength&&this.$v.phone.maxLength||!this.$v.phone.$dirty?void 0:"Номер телефона должен содержать 11 цифр"},selectedCustomerGroupsError(){if(!this.$v.selectedCustomerGroups.isArrayNotEmpty&&this.$v.selectedCustomerGroups.$dirty)return"Выберите группу"},addressCityError(){return!this.$v.address.city.required&&this.$v.address.city.$dirty?"Введите город":!this.$v.address.city.minLength&&this.$v.address.city.$dirty?"Некорректное название города":void 0},selectedDocumentTypeError(){if(!this.$v.passport.selectedDocumentType.required&&this.$v.passport.selectedDocumentType.$dirty)return"Выберите тип документа"},passportDateError(){return!this.$v.passport.date.required&&this.$v.passport.date.$dirty?"Введите дату выдачи паспорта":!this.$v.passport.date.isDate&&this.$v.passport.date.$dirty?"Введите дату в формате ДД.ММ.ГГГГ":void 0}},validations:{lastName:{required:A.mw,minLength:(0,A.Bp)(2)},firstName:{required:A.mw,minLength:(0,A.Bp)(2)},birthDate:{required:A.mw,isDate:B},phone:{required:A.mw,minLength:(0,A.Bp)(11),maxLength:(0,A.Ru)(11),isPhone:P},selectedCustomerGroups:{isArrayNotEmpty:j},address:{city:{required:A.mw,minLength:(0,A.Bp)(2)}},passport:{selectedDocumentType:{required:A.mw},date:{required:A.mw,isDate:B}}}},z={components:{FormCheckbox:O,FormSelect:L,FormInput:$,FormMultiselect:v},mixins:[G.Hy,M],data(){return{firstName:"",lastName:"",middleName:"",birthDate:"",phone:"",gender:"",customerGroups:{vip:"VIP",problem:"Проблемные",oms:"ОМС"},selectedCustomerGroups:[],doctors:{ivanov:"Иванов",zaharov:"Захаров",chernysheva:"Чернышева"},selectedDoctor:"",dontSendSms:!1,address:{postalCode:"",country:"",region:"",city:"",street:"",building:""},passport:{documentTypes:{passport:"Паспорт",birthCertificate:"Свидетельство о рождении",drivingLicense:"Вод. удостоверение"},selectedDocumentType:"",series:"",number:"",issuedBy:"",date:""},formSuccess:!1}},computed:{formInvalid(){return this.$v.$anyError}},methods:{addCustomerGroup(e){this.selectedCustomerGroups.push(e)},removeCustomerGroup(e){this.selectedCustomerGroups.splice(this.selectedCustomerGroups.indexOf(e),1)},createCustomer(){if(this.$v.$touch(),this.$v.$anyError)this.formSuccess=!1;else{this.$v.$reset(),this.resetForm(),this.formSuccess=!0;const e=setTimeout((()=>{this.formSuccess=!1,clearTimeout(e)}),5e3)}},resetForm(){this.firstName="",this.lastName="",this.middleName="",this.birthDate="",this.phone="",this.gender="",this.selectedCustomerGroups=[],this.selectedDoctor="",this.dontSendSms=!1,this.address.postalCode="",this.address.country="",this.address.region="",this.address.city="",this.address.street="",this.address.building="",this.passport.selectedDocumentType="",this.passport.series="",this.passport.number="",this.passport.issuedBy="",this.passport.date=""}}},H=z,R=(0,m.A)(H,o,i,!1,null,null,null),V=R.exports,J={bind(e,t){setTimeout((()=>{e.addEventListener("click",(e=>e.stopPropagation())),document.body.addEventListener("click",t.value)}),0)},unbind(e,t){document.body.removeEventListener("click",t.value)}};r.Ay.config.productionTip=!1,r.Ay.config.devtools=!0,r.Ay.directive("click-outside",J),new r.Ay({render:function(e){return e(V)}}).$mount("#app")}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,r,o,i){if(!r){var a=1/0;for(m=0;m<e.length;m++){r=e[m][0],o=e[m][1],i=e[m][2];for(var n=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(n=!1,i<a&&(a=i));if(n){e.splice(m--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var m=e.length;m>0&&e[m-1][2]>i;m--)e[m]=e[m-1];e[m]=[r,o,i]}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],n=r[1],l=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(l)var m=l(s)}for(t&&t(r);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(m)},r=self["webpackChunkcustomer_form1"]=self["webpackChunkcustomer_form1"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(150)}));r=s.O(r)})();
//# sourceMappingURL=app.857d4709.js.map